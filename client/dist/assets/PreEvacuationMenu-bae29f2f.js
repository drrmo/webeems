import{r as p,B as Je,D as Tt,_ as C,E as Lt,b as n,g as Ot,d as Et,s as X,h as S,f as J,k as At,l as et,n as kt,G as bt,o as ie,p as Rt,I as pt,P as Nt,H as Bt,J as vt,K as Mt,M as zt,N as Ft,O as Vt,Q as Ht,j as Wt,a as _t,u as Kt,R as Ut,S as qt,U as Gt,V as Zt,W as Qt,X as Yt,Y as Jt,Z as Xt,$ as eo}from"./index-a50eb7ee.js";/* empty css                      */import{S as xt,w as to}from"./sweetalert2.all-953600d6.js";import{M as Xe}from"./MenuButton-2b400b7f.js";import{B as oo}from"./Breadcrumb-c6b78098.js";import{r as ao,i as no}from"./createSvgIcon-d2f0689e.js";import{C as lo,A as ro}from"./Alert-5e12cda2.js";import{i as st,a as ye,o as Ct,f as je,A as io,B as so}from"./Select-c8b83df3.js";import{P as jt}from"./Popper-c65985c2.js";import{u as co}from"./useId-519d9372.js";import{u as ct}from"./useControlled-20eeda9a.js";import{T as uo}from"./TextField-4f6a2b48.js";import"./useFormControl-323236cf.js";const po=e=>{const t=p.useRef({});return p.useEffect(()=>{t.current=e}),t.current},fo=po;function yt(e){return typeof e.normalize<"u"?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e}function go(e={}){const{ignoreAccents:t=!0,ignoreCase:r=!0,limit:s,matchFrom:v="any",stringify:E,trim:A=!1}=e;return(g,{inputValue:k,getOptionLabel:D})=>{let j=A?k.trim():k;r&&(j=j.toLowerCase()),t&&(j=yt(j));const L=j?g.filter(ee=>{let N=(E||D)(ee);return r&&(N=N.toLowerCase()),t&&(N=yt(N)),v==="start"?N.indexOf(j)===0:N.indexOf(j)>-1}):g;return typeof s=="number"?L.slice(0,s):L}}function ut(e,t){for(let r=0;r<e.length;r+=1)if(t(e[r]))return r;return-1}const mo=go(),It=5,ho=e=>{var t;return e.current!==null&&((t=e.current.parentElement)==null?void 0:t.contains(document.activeElement))};function bo(e){const{unstable_isActiveElementInListbox:t=ho,unstable_classNamePrefix:r="Mui",autoComplete:s=!1,autoHighlight:v=!1,autoSelect:E=!1,blurOnSelect:A=!1,clearOnBlur:g=!e.freeSolo,clearOnEscape:k=!1,componentName:D="useAutocomplete",defaultValue:j=e.multiple?[]:null,disableClearable:L=!1,disableCloseOnSelect:ee=!1,disabled:N,disabledItemsFocusable:W=!1,disableListWrap:c=!1,filterOptions:d=mo,filterSelectedOptions:m=!1,freeSolo:b=!1,getOptionDisabled:f,getOptionKey:I,getOptionLabel:z=a=>{var o;return(o=a.label)!=null?o:a},groupBy:w,handleHomeEndKeys:x=!e.freeSolo,id:F,includeInputInList:_=!1,inputValue:Ie,isOptionEqualToValue:se=(a,o)=>a===o,multiple:$=!1,onChange:de,onClose:te,onHighlightChange:Pe,onInputChange:oe,onOpen:he,open:De,openOnFocus:V=!1,options:we,readOnly:be=!1,selectOnFocus:Te=!e.freeSolo,value:Ve}=e,Q=co(F);let U=z;U=a=>{const o=z(a);return typeof o!="string"?String(o):o};const Le=p.useRef(!1),He=p.useRef(!0),B=p.useRef(null),Y=p.useRef(null),[$e,tt]=p.useState(null),[G,Be]=p.useState(-1),We=v?0:-1,q=p.useRef(We),[u,ft]=ct({controlled:Ve,default:j,name:D}),[O,fe]=ct({controlled:Ie,default:"",name:D,state:"inputValue"}),[Se,_e]=p.useState(!1),ve=p.useCallback((a,o)=>{if(!($?u.length<o.length:o!==null)&&!g)return;let i;if($)i="";else if(o==null)i="";else{const P=U(o);i=typeof P=="string"?P:""}O!==i&&(fe(i),oe&&oe(a,i,"reset"))},[U,O,$,oe,fe,g,u]),[me,Ke]=ct({controlled:De,default:!1,name:D,state:"open"}),[ot,Ue]=p.useState(!0),qe=!$&&u!=null&&O===U(u),Z=me&&!be,R=Z?d(we.filter(a=>!(m&&($?u:[u]).some(o=>o!==null&&se(a,o)))),{inputValue:qe&&ot?"":O,getOptionLabel:U}):[],ne=fo({filteredOptions:R,value:u,inputValue:O});p.useEffect(()=>{const a=u!==ne.value;Se&&!a||b&&!a||ve(null,u)},[u,ve,Se,ne.value,b]);const Me=me&&R.length>0&&!be,Oe=Je(a=>{a===-1?B.current.focus():$e.querySelector(`[data-tag-index="${a}"]`).focus()});p.useEffect(()=>{$&&G>u.length-1&&(Be(-1),Oe(-1))},[u,$,G,Oe]);function Ee(a,o){if(!Y.current||a<0||a>=R.length)return-1;let l=a;for(;;){const i=Y.current.querySelector(`[data-option-index="${l}"]`),P=W?!1:!i||i.disabled||i.getAttribute("aria-disabled")==="true";if(i&&i.hasAttribute("tabindex")&&!P)return l;if(o==="next"?l=(l+1)%R.length:l=(l-1+R.length)%R.length,l===a)return-1}}const ce=Je(({event:a,index:o,reason:l="auto"})=>{if(q.current=o,o===-1?B.current.removeAttribute("aria-activedescendant"):B.current.setAttribute("aria-activedescendant",`${Q}-option-${o}`),Pe&&Pe(a,o===-1?null:R[o],l),!Y.current)return;const i=Y.current.querySelector(`[role="option"].${r}-focused`);i&&(i.classList.remove(`${r}-focused`),i.classList.remove(`${r}-focusVisible`));let P=Y.current;if(Y.current.getAttribute("role")!=="listbox"&&(P=Y.current.parentElement.querySelector('[role="listbox"]')),!P)return;if(o===-1){P.scrollTop=0;return}const T=Y.current.querySelector(`[data-option-index="${o}"]`);if(T&&(T.classList.add(`${r}-focused`),l==="keyboard"&&T.classList.add(`${r}-focusVisible`),P.scrollHeight>P.clientHeight&&l!=="mouse"&&l!=="touch")){const M=T,pe=P.clientHeight+P.scrollTop,ht=M.offsetTop+M.offsetHeight;ht>pe?P.scrollTop=ht-P.clientHeight:M.offsetTop-M.offsetHeight*(w?1.3:0)<P.scrollTop&&(P.scrollTop=M.offsetTop-M.offsetHeight*(w?1.3:0))}}),le=Je(({event:a,diff:o,direction:l="next",reason:i="auto"})=>{if(!Z)return;const T=Ee((()=>{const M=R.length-1;if(o==="reset")return We;if(o==="start")return 0;if(o==="end")return M;const pe=q.current+o;return pe<0?pe===-1&&_?-1:c&&q.current!==-1||Math.abs(o)>1?0:M:pe>M?pe===M+1&&_?-1:c||Math.abs(o)>1?M:0:pe})(),l);if(ce({index:T,reason:i,event:a}),s&&o!=="reset")if(T===-1)B.current.value=O;else{const M=U(R[T]);B.current.value=M,M.toLowerCase().indexOf(O.toLowerCase())===0&&O.length>0&&B.current.setSelectionRange(O.length,M.length)}}),Ae=()=>{const a=(o,l)=>{const i=o?U(o):"",P=l?U(l):"";return i===P};if(q.current!==-1&&ne.filteredOptions&&ne.filteredOptions.length!==R.length&&ne.inputValue===O&&($?u.length===ne.value.length&&ne.value.every((o,l)=>U(u[l])===U(o)):a(ne.value,u))){const o=ne.filteredOptions[q.current];if(o&&R.some(i=>U(i)===U(o)))return!0}return!1},ze=p.useCallback(()=>{if(!Z||Ae())return;const a=$?u[0]:u;if(R.length===0||a==null){le({diff:"reset"});return}if(Y.current){if(a!=null){const o=R[q.current];if($&&o&&ut(u,i=>se(o,i))!==-1)return;const l=ut(R,i=>se(i,a));l===-1?le({diff:"reset"}):ce({index:l});return}if(q.current>=R.length-1){ce({index:R.length-1});return}ce({index:q.current})}},[R.length,$?!1:u,m,le,ce,Z,O,$]),at=Je(a=>{Tt(Y,a),a&&ze()});p.useEffect(()=>{ze()},[ze]);const ae=a=>{me||(Ke(!0),Ue(!0),he&&he(a))},ge=(a,o)=>{me&&(Ke(!1),te&&te(a,o))},ue=(a,o,l,i)=>{if($){if(u.length===o.length&&u.every((P,T)=>P===o[T]))return}else if(u===o)return;de&&de(a,o,l,i),ft(o)},ke=p.useRef(!1),xe=(a,o,l="selectOption",i="options")=>{let P=l,T=o;if($){T=Array.isArray(u)?u.slice():[];const M=ut(T,pe=>se(o,pe));M===-1?T.push(o):i!=="freeSolo"&&(T.splice(M,1),P="removeOption")}ve(a,T),ue(a,T,P,{option:o}),!ee&&(!a||!a.ctrlKey&&!a.metaKey)&&ge(a,P),(A===!0||A==="touch"&&ke.current||A==="mouse"&&!ke.current)&&B.current.blur()};function Ge(a,o){if(a===-1)return-1;let l=a;for(;;){if(o==="next"&&l===u.length||o==="previous"&&l===-1)return-1;const i=$e.querySelector(`[data-tag-index="${l}"]`);if(!i||!i.hasAttribute("tabindex")||i.disabled||i.getAttribute("aria-disabled")==="true")l+=o==="next"?1:-1;else return l}}const Ze=(a,o)=>{if(!$)return;O===""&&ge(a,"toggleInput");let l=G;G===-1?O===""&&o==="previous"&&(l=u.length-1):(l+=o==="next"?1:-1,l<0&&(l=0),l===u.length&&(l=-1)),l=Ge(l,o),Be(l),Oe(l)},Qe=a=>{Le.current=!0,fe(""),oe&&oe(a,"","clear"),ue(a,$?[]:null,"clear")},nt=a=>o=>{if(a.onKeyDown&&a.onKeyDown(o),!o.defaultMuiPrevented&&(G!==-1&&["ArrowLeft","ArrowRight"].indexOf(o.key)===-1&&(Be(-1),Oe(-1)),o.which!==229))switch(o.key){case"Home":Z&&x&&(o.preventDefault(),le({diff:"start",direction:"next",reason:"keyboard",event:o}));break;case"End":Z&&x&&(o.preventDefault(),le({diff:"end",direction:"previous",reason:"keyboard",event:o}));break;case"PageUp":o.preventDefault(),le({diff:-It,direction:"previous",reason:"keyboard",event:o}),ae(o);break;case"PageDown":o.preventDefault(),le({diff:It,direction:"next",reason:"keyboard",event:o}),ae(o);break;case"ArrowDown":o.preventDefault(),le({diff:1,direction:"next",reason:"keyboard",event:o}),ae(o);break;case"ArrowUp":o.preventDefault(),le({diff:-1,direction:"previous",reason:"keyboard",event:o}),ae(o);break;case"ArrowLeft":Ze(o,"previous");break;case"ArrowRight":Ze(o,"next");break;case"Enter":if(q.current!==-1&&Z){const l=R[q.current],i=f?f(l):!1;if(o.preventDefault(),i)return;xe(o,l,"selectOption"),s&&B.current.setSelectionRange(B.current.value.length,B.current.value.length)}else b&&O!==""&&qe===!1&&($&&o.preventDefault(),xe(o,O,"createOption","freeSolo"));break;case"Escape":Z?(o.preventDefault(),o.stopPropagation(),ge(o,"escape")):k&&(O!==""||$&&u.length>0)&&(o.preventDefault(),o.stopPropagation(),Qe(o));break;case"Backspace":if($&&!be&&O===""&&u.length>0){const l=G===-1?u.length-1:G,i=u.slice();i.splice(l,1),ue(o,i,"removeOption",{option:u[l]})}break;case"Delete":if($&&!be&&O===""&&u.length>0&&G!==-1){const l=G,i=u.slice();i.splice(l,1),ue(o,i,"removeOption",{option:u[l]})}break}},gt=a=>{_e(!0),V&&!Le.current&&ae(a)},Re=a=>{if(t(Y)){B.current.focus();return}_e(!1),He.current=!0,Le.current=!1,E&&q.current!==-1&&Z?xe(a,R[q.current],"blur"):E&&b&&O!==""?xe(a,O,"blur","freeSolo"):g&&ve(a,u),ge(a,"blur")},K=a=>{const o=a.target.value;O!==o&&(fe(o),Ue(!1),oe&&oe(a,o,"input")),o===""?!L&&!$&&ue(a,null,"clear"):ae(a)},H=a=>{const o=Number(a.currentTarget.getAttribute("data-option-index"));q.current!==o&&ce({event:a,index:o,reason:"mouse"})},re=a=>{ce({event:a,index:Number(a.currentTarget.getAttribute("data-option-index")),reason:"touch"}),ke.current=!0},mt=a=>{const o=Number(a.currentTarget.getAttribute("data-option-index"));xe(a,R[o],"selectOption"),ke.current=!1},lt=a=>o=>{const l=u.slice();l.splice(a,1),ue(o,l,"removeOption",{option:u[a]})},rt=a=>{me?ge(a,"toggleInput"):ae(a)},it=a=>{a.currentTarget.contains(a.target)&&a.target.getAttribute("id")!==Q&&a.preventDefault()},Ye=a=>{a.currentTarget.contains(a.target)&&(B.current.focus(),Te&&He.current&&B.current.selectionEnd-B.current.selectionStart===0&&B.current.select(),He.current=!1)},Fe=a=>{!N&&(O===""||!me)&&rt(a)};let Ce=b&&O.length>0;Ce=Ce||($?u.length>0:u!==null);let Ne=R;return w&&(Ne=R.reduce((a,o,l)=>{const i=w(o);return a.length>0&&a[a.length-1].group===i?a[a.length-1].options.push(o):a.push({key:l,index:l,group:i,options:[o]}),a},[])),N&&Se&&Re(),{getRootProps:(a={})=>C({"aria-owns":Me?`${Q}-listbox`:null},a,{onKeyDown:nt(a),onMouseDown:it,onClick:Ye}),getInputLabelProps:()=>({id:`${Q}-label`,htmlFor:Q}),getInputProps:()=>({id:Q,value:O,onBlur:Re,onFocus:gt,onChange:K,onMouseDown:Fe,"aria-activedescendant":Z?"":null,"aria-autocomplete":s?"both":"list","aria-controls":Me?`${Q}-listbox`:void 0,"aria-expanded":Me,autoComplete:"off",ref:B,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:N}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:Qe}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:rt}),getTagProps:({index:a})=>C({key:a,"data-tag-index":a,tabIndex:-1},!be&&{onDelete:lt(a)}),getListboxProps:()=>({role:"listbox",id:`${Q}-listbox`,"aria-labelledby":`${Q}-label`,ref:at,onMouseDown:a=>{a.preventDefault()}}),getOptionProps:({index:a,option:o})=>{var l;const i=($?u:[u]).some(T=>T!=null&&se(o,T)),P=f?f(o):!1;return{key:(l=I==null?void 0:I(o))!=null?l:U(o),tabIndex:-1,role:"option",id:`${Q}-option-${a}`,onMouseMove:H,onClick:mt,onTouchStart:re,"data-option-index":a,"aria-disabled":P,"aria-selected":i}},id:Q,inputValue:O,value:u,dirty:Ce,expanded:Z&&$e,popupOpen:Z,focused:Se||G!==-1,anchorEl:$e,setAnchorEl:tt,focusedTag:G,groupedOptions:Ne}}const vo=Lt(n.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function xo(e){return Et("MuiChip",e)}const Co=Ot("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),y=Co,yo=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],Io=e=>{const{classes:t,disabled:r,size:s,color:v,iconColor:E,onDelete:A,clickable:g,variant:k}=e,D={root:["root",k,r&&"disabled",`size${S(s)}`,`color${S(v)}`,g&&"clickable",g&&`clickableColor${S(v)}`,A&&"deletable",A&&`deletableColor${S(v)}`,`${k}${S(v)}`],label:["label",`label${S(s)}`],avatar:["avatar",`avatar${S(s)}`,`avatarColor${S(v)}`],icon:["icon",`icon${S(s)}`,`iconColor${S(E)}`],deleteIcon:["deleteIcon",`deleteIcon${S(s)}`,`deleteIconColor${S(v)}`,`deleteIcon${S(k)}Color${S(v)}`]};return Rt(D,xo,t)},Po=X("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{color:s,iconColor:v,clickable:E,onDelete:A,size:g,variant:k}=r;return[{[`& .${y.avatar}`]:t.avatar},{[`& .${y.avatar}`]:t[`avatar${S(g)}`]},{[`& .${y.avatar}`]:t[`avatarColor${S(s)}`]},{[`& .${y.icon}`]:t.icon},{[`& .${y.icon}`]:t[`icon${S(g)}`]},{[`& .${y.icon}`]:t[`iconColor${S(v)}`]},{[`& .${y.deleteIcon}`]:t.deleteIcon},{[`& .${y.deleteIcon}`]:t[`deleteIcon${S(g)}`]},{[`& .${y.deleteIcon}`]:t[`deleteIconColor${S(s)}`]},{[`& .${y.deleteIcon}`]:t[`deleteIcon${S(k)}Color${S(s)}`]},t.root,t[`size${S(g)}`],t[`color${S(s)}`],E&&t.clickable,E&&s!=="default"&&t[`clickableColor${S(s)})`],A&&t.deletable,A&&s!=="default"&&t[`deletableColor${S(s)}`],t[k],t[`${k}${S(s)}`]]}})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return C({maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${y.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${y.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:r,fontSize:e.typography.pxToRem(12)},[`& .${y.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${y.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${y.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${y.icon}`]:C({marginLeft:5,marginRight:-6},t.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},t.iconColor===t.color&&C({color:e.vars?e.vars.palette.Chip.defaultIconColor:r},t.color!=="default"&&{color:"inherit"})),[`& .${y.deleteIcon}`]:C({WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:J(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:J(e.palette.text.primary,.4)}},t.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},t.color!=="default"&&{color:e.vars?`rgba(${e.vars.palette[t.color].contrastTextChannel} / 0.7)`:J(e.palette[t.color].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].contrastText}})},t.size==="small"&&{height:24},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.onDelete&&{[`&.${y.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:J(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},t.onDelete&&t.color!=="default"&&{[`&.${y.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}})},({theme:e,ownerState:t})=>C({},t.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:J(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${y.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:J(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}},t.clickable&&t.color!=="default"&&{[`&:hover, &.${y.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}}),({theme:e,ownerState:t})=>C({},t.variant==="outlined"&&{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${y.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${y.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${y.avatar}`]:{marginLeft:4},[`& .${y.avatarSmall}`]:{marginLeft:2},[`& .${y.icon}`]:{marginLeft:4},[`& .${y.iconSmall}`]:{marginLeft:2},[`& .${y.deleteIcon}`]:{marginRight:5},[`& .${y.deleteIconSmall}`]:{marginRight:3}},t.variant==="outlined"&&t.color!=="default"&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:J(e.palette[t.color].main,.7)}`,[`&.${y.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:J(e.palette[t.color].main,e.palette.action.hoverOpacity)},[`&.${y.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.focusOpacity})`:J(e.palette[t.color].main,e.palette.action.focusOpacity)},[`& .${y.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:J(e.palette[t.color].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].main}}})),$o=X("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:r}=e,{size:s}=r;return[t.label,t[`label${S(s)}`]]}})(({ownerState:e})=>C({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},e.variant==="outlined"&&{paddingLeft:11,paddingRight:11},e.size==="small"&&{paddingLeft:8,paddingRight:8},e.size==="small"&&e.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function Pt(e){return e.key==="Backspace"||e.key==="Delete"}const So=p.forwardRef(function(t,r){const s=At({props:t,name:"MuiChip"}),{avatar:v,className:E,clickable:A,color:g="default",component:k,deleteIcon:D,disabled:j=!1,icon:L,label:ee,onClick:N,onDelete:W,onKeyDown:c,onKeyUp:d,size:m="medium",variant:b="filled",tabIndex:f,skipFocusWhenDisabled:I=!1}=s,z=et(s,yo),w=p.useRef(null),x=kt(w,r),F=V=>{V.stopPropagation(),W&&W(V)},_=V=>{V.currentTarget===V.target&&Pt(V)&&V.preventDefault(),c&&c(V)},Ie=V=>{V.currentTarget===V.target&&(W&&Pt(V)?W(V):V.key==="Escape"&&w.current&&w.current.blur()),d&&d(V)},se=A!==!1&&N?!0:A,$=se||W?bt:k||"div",de=C({},s,{component:$,disabled:j,size:m,color:g,iconColor:p.isValidElement(L)&&L.props.color||g,onDelete:!!W,clickable:se,variant:b}),te=Io(de),Pe=$===bt?C({component:k||"div",focusVisibleClassName:te.focusVisible},W&&{disableRipple:!0}):{};let oe=null;W&&(oe=D&&p.isValidElement(D)?p.cloneElement(D,{className:ie(D.props.className,te.deleteIcon),onClick:F}):n.jsx(vo,{className:ie(te.deleteIcon),onClick:F}));let he=null;v&&p.isValidElement(v)&&(he=p.cloneElement(v,{className:ie(te.avatar,v.props.className)}));let De=null;return L&&p.isValidElement(L)&&(De=p.cloneElement(L,{className:ie(te.icon,L.props.className)})),n.jsxs(Po,C({as:$,className:ie(te.root,E),disabled:se&&j?!0:void 0,onClick:N,onKeyDown:_,onKeyUp:Ie,ref:x,tabIndex:I&&j?-1:f,ownerState:de},Pe,z,{children:[he||De,n.jsx($o,{className:ie(te.label),ownerState:de,children:ee}),oe]}))}),Oo=So;function Eo(e){return Et("MuiAutocomplete",e)}const Ao=Ot("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]),h=Ao;var $t,St;const ko=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionKey","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],Ro=["ref"],No=["key"],jo=e=>{const{classes:t,disablePortal:r,expanded:s,focused:v,fullWidth:E,hasClearIcon:A,hasPopupIcon:g,inputFocused:k,popupOpen:D,size:j}=e,L={root:["root",s&&"expanded",v&&"focused",E&&"fullWidth",A&&"hasClearIcon",g&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",k&&"inputFocused"],tag:["tag",`tagSize${S(j)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",D&&"popupIndicatorOpen"],popper:["popper",r&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return Rt(L,Eo,t)},Do=X("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{fullWidth:s,hasClearIcon:v,hasPopupIcon:E,inputFocused:A,size:g}=r;return[{[`& .${h.tag}`]:t.tag},{[`& .${h.tag}`]:t[`tagSize${S(g)}`]},{[`& .${h.inputRoot}`]:t.inputRoot},{[`& .${h.input}`]:t.input},{[`& .${h.input}`]:A&&t.inputFocused},t.root,s&&t.fullWidth,E&&t.hasPopupIcon,v&&t.hasClearIcon]}})(({ownerState:e})=>C({[`&.${h.focused} .${h.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${h.clearIndicator}`]:{visibility:"visible"}}},e.fullWidth&&{width:"100%"},{[`& .${h.tag}`]:C({margin:3,maxWidth:"calc(100% - 6px)"},e.size==="small"&&{margin:2,maxWidth:"calc(100% - 4px)"}),[`& .${h.inputRoot}`]:{flexWrap:"wrap",[`.${h.hasPopupIcon}&, .${h.hasClearIcon}&`]:{paddingRight:26+4},[`.${h.hasPopupIcon}.${h.hasClearIcon}&`]:{paddingRight:52+4},[`& .${h.input}`]:{width:0,minWidth:30}},[`& .${st.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${st.root}.${ye.sizeSmall}`]:{[`& .${st.input}`]:{padding:"2px 4px 3px 0"}},[`& .${Ct.root}`]:{padding:9,[`.${h.hasPopupIcon}&, .${h.hasClearIcon}&`]:{paddingRight:26+4+9},[`.${h.hasPopupIcon}.${h.hasClearIcon}&`]:{paddingRight:52+4+9},[`& .${h.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${h.endAdornment}`]:{right:9}},[`& .${Ct.root}.${ye.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${h.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${je.root}`]:{paddingTop:19,paddingLeft:8,[`.${h.hasPopupIcon}&, .${h.hasClearIcon}&`]:{paddingRight:26+4+9},[`.${h.hasPopupIcon}.${h.hasClearIcon}&`]:{paddingRight:52+4+9},[`& .${je.input}`]:{padding:"7px 4px"},[`& .${h.endAdornment}`]:{right:9}},[`& .${je.root}.${ye.sizeSmall}`]:{paddingBottom:1,[`& .${je.input}`]:{padding:"2.5px 4px"}},[`& .${ye.hiddenLabel}`]:{paddingTop:8},[`& .${je.root}.${ye.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${h.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${je.root}.${ye.hiddenLabel}.${ye.sizeSmall}`]:{[`& .${h.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${h.input}`]:C({flexGrow:1,textOverflow:"ellipsis",opacity:0},e.inputFocused&&{opacity:1})})),wo=X("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(e,t)=>t.endAdornment})({position:"absolute",right:0,top:"calc(50% - 14px)"}),To=X(pt,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(e,t)=>t.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),Lo=X(pt,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:e},t)=>C({},t.popupIndicator,e.popupOpen&&t.popupIndicatorOpen)})(({ownerState:e})=>C({padding:2,marginRight:-2},e.popupOpen&&{transform:"rotate(180deg)"})),Bo=X(jt,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${h.option}`]:t.option},t.popper,r.disablePortal&&t.popperDisablePortal]}})(({theme:e,ownerState:t})=>C({zIndex:(e.vars||e).zIndex.modal},t.disablePortal&&{position:"absolute"})),Mo=X(Nt,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(e,t)=>t.paper})(({theme:e})=>C({},e.typography.body1,{overflow:"auto"})),zo=X("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(e,t)=>t.loading})(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"})),Fo=X("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(e,t)=>t.noOptions})(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"})),Vo=X("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(e,t)=>t.listbox})(({theme:e})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${h.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${h.focused}`]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${h.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:J(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${h.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:J(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${h.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:J(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}}})),Ho=X(Bt,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(e,t)=>t.groupLabel})(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,top:-8})),Wo=X("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(e,t)=>t.groupUl})({padding:0,[`& .${h.option}`]:{paddingLeft:24}}),_o=p.forwardRef(function(t,r){var s,v,E,A;const g=At({props:t,name:"MuiAutocomplete"}),{autoComplete:k=!1,autoHighlight:D=!1,autoSelect:j=!1,blurOnSelect:L=!1,ChipProps:ee,className:N,clearIcon:W=$t||($t=n.jsx(lo,{fontSize:"small"})),clearOnBlur:c=!g.freeSolo,clearOnEscape:d=!1,clearText:m="Clear",closeText:b="Close",componentsProps:f={},defaultValue:I=g.multiple?[]:null,disableClearable:z=!1,disableCloseOnSelect:w=!1,disabled:x=!1,disabledItemsFocusable:F=!1,disableListWrap:_=!1,disablePortal:Ie=!1,filterSelectedOptions:se=!1,forcePopupIcon:$="auto",freeSolo:de=!1,fullWidth:te=!1,getLimitTagsText:Pe=o=>`+${o}`,getOptionLabel:oe,groupBy:he,handleHomeEndKeys:De=!g.freeSolo,includeInputInList:V=!1,limitTags:we=-1,ListboxComponent:be="ul",ListboxProps:Te,loading:Ve=!1,loadingText:Q="Loadingâ€¦",multiple:U=!1,noOptionsText:Le="No options",openOnFocus:He=!1,openText:B="Open",PaperComponent:Y=Nt,PopperComponent:$e=jt,popupIcon:tt=St||(St=n.jsx(io,{})),readOnly:G=!1,renderGroup:Be,renderInput:We,renderOption:q,renderTags:u,selectOnFocus:ft=!g.freeSolo,size:O="medium",slotProps:fe={}}=g,Se=et(g,ko),{getRootProps:_e,getInputProps:ve,getInputLabelProps:me,getPopupIndicatorProps:Ke,getClearProps:ot,getTagProps:Ue,getListboxProps:qe,getOptionProps:Z,value:R,dirty:ne,expanded:Me,id:Oe,popupOpen:Ee,focused:ce,focusedTag:le,anchorEl:Ae,setAnchorEl:ze,inputValue:at,groupedOptions:ae}=bo(C({},g,{componentName:"Autocomplete"})),ge=!z&&!x&&ne&&!G,ue=(!de||$===!0)&&$!==!1,{onMouseDown:ke}=ve(),{ref:xe}=Te??{},Ge=qe(),{ref:Ze}=Ge,Qe=et(Ge,Ro),nt=kt(Ze,xe),Re=oe||(o=>{var l;return(l=o.label)!=null?l:o}),K=C({},g,{disablePortal:Ie,expanded:Me,focused:ce,fullWidth:te,getOptionLabel:Re,hasClearIcon:ge,hasPopupIcon:ue,inputFocused:le===-1,popupOpen:Ee,size:O}),H=jo(K);let re;if(U&&R.length>0){const o=l=>C({className:H.tag,disabled:x},Ue(l));u?re=u(R,o,K):re=R.map((l,i)=>n.jsx(Oo,C({label:Re(l),size:O},o({index:i}),ee)))}if(we>-1&&Array.isArray(re)){const o=re.length-we;!ce&&o>0&&(re=re.splice(0,we),re.push(n.jsx("span",{className:H.tag,children:Pe(o)},re.length)))}const lt=Be||(o=>n.jsxs("li",{children:[n.jsx(Ho,{className:H.groupLabel,ownerState:K,component:"div",children:o.group}),n.jsx(Wo,{className:H.groupUl,ownerState:K,children:o.children})]},o.key)),it=q||((o,l)=>{const{key:i}=o,P=et(o,No);return n.jsx("li",C({},P,{children:Re(l)}),i)}),Ye=(o,l)=>{const i=Z({option:o,index:l});return it(C({},i,{className:H.option}),o,{selected:i["aria-selected"],index:l,inputValue:at},K)},Fe=(s=fe.clearIndicator)!=null?s:f.clearIndicator,Ce=(v=fe.paper)!=null?v:f.paper,Ne=(E=fe.popper)!=null?E:f.popper,a=(A=fe.popupIndicator)!=null?A:f.popupIndicator;return n.jsxs(p.Fragment,{children:[n.jsx(Do,C({ref:r,className:ie(H.root,N),ownerState:K},_e(Se),{children:We({id:Oe,disabled:x,fullWidth:!0,size:O==="small"?"small":void 0,InputLabelProps:me(),InputProps:C({ref:ze,className:H.inputRoot,startAdornment:re,onClick:o=>{o.target===o.currentTarget&&ke(o)}},(ge||ue)&&{endAdornment:n.jsxs(wo,{className:H.endAdornment,ownerState:K,children:[ge?n.jsx(To,C({},ot(),{"aria-label":m,title:m,ownerState:K},Fe,{className:ie(H.clearIndicator,Fe==null?void 0:Fe.className),children:W})):null,ue?n.jsx(Lo,C({},Ke(),{disabled:x,"aria-label":Ee?b:B,title:Ee?b:B,ownerState:K},a,{className:ie(H.popupIndicator,a==null?void 0:a.className),children:tt})):null]})}),inputProps:C({className:H.input,disabled:x,readOnly:G},ve())})})),Ae?n.jsx(Bo,C({as:$e,disablePortal:Ie,style:{width:Ae?Ae.clientWidth:null},ownerState:K,role:"presentation",anchorEl:Ae,open:Ee},Ne,{className:ie(H.popper,Ne==null?void 0:Ne.className),children:n.jsxs(Mo,C({ownerState:K,as:Y},Ce,{className:ie(H.paper,Ce==null?void 0:Ce.className),children:[Ve&&ae.length===0?n.jsx(zo,{className:H.loading,ownerState:K,children:Q}):null,ae.length===0&&!de&&!Ve?n.jsx(Fo,{className:H.noOptions,ownerState:K,role:"presentation",onMouseDown:o=>{o.preventDefault()},children:Le}):null,ae.length>0?n.jsx(Vo,C({as:be,className:H.listbox,ownerState:K},Qe,Te,{ref:nt,children:ae.map((o,l)=>he?lt({key:o.key,group:o.group,children:o.options.map((i,P)=>Ye(i,o.index+P))}):Ye(o,l))})):null]}))})):null]})}),Ko=_o;var dt={},Uo=no;Object.defineProperty(dt,"__esModule",{value:!0});var Dt=dt.default=void 0,qo=Uo(ao()),Go=n,Zo=(0,qo.default)((0,Go.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");Dt=dt.default=Zo;function wt({onSuccess:e,onError:t}){const[r,s]=p.useState({BuildingName:"",StreetNum:"",District:"",Barangay:"",Municipality:"Nasipit",Province:"Agusan Del Norte",Region:"CARAGA",ZipCode:"8602",MaxCapacity:1,Assigned:[]}),[v,E]=p.useState({message:"",state:""}),[A,g]=p.useState([]),[k,D]=p.useState(!1),j=k&&A.length===0;p.useEffect(()=>{let c=!0;if(j)return Mt().then(({success:d})=>{c&&g([...d])}).catch(console.error),()=>{c=!1}},[j]),p.useEffect(()=>{k||g([])},[k]);const L=p.useCallback((c,d)=>{const m=d.reduce((b,f)=>b.map(I=>I.ID).includes(f.ID)?b:[...b,f],[]).map(b=>b.ID);m.length!==r.Assigned.length&&s(b=>({...b,Assigned:m}))},[r==null?void 0:r.Assigned]),ee=p.useCallback(c=>c==null?void 0:c.reduce((d,m)=>d.map(b=>b.ID).includes(m.ID)?d:[...d,m],[]).reduce((d,m)=>r!=null&&r.Assigned.includes(m.ID)?d:[...d,m],[]),[r==null?void 0:r.Assigned]),N=p.useCallback(c=>{c.preventDefault(),s(d=>({...d,[c.target.name]:c.target.value}))},[r]),W=p.useCallback(c=>{c.preventDefault(),c.stopPropagation(),zt(r).then(d=>{var m;E({state:d?"success":"error",message:d?n.jsxs(n.Fragment,{children:["Successfully Created Evacuation Event ID ",n.jsx("span",{className:"badge text-bg-success fs-6",children:(m=d.success)==null?void 0:m.ID})]}):n.jsx(n.Fragment,{children:"Failed to Create Evacuation Event. Please Try Again."})}),e&&e(d)}).catch(d=>{E({state:"error",message:n.jsx(n.Fragment,{children:"Failed to Create Evacuation Event. Please Try Again."})}),t&&t(d)})},[r]);return n.jsxs("form",{onSubmit:W,children:[n.jsx(Ft,{sx:{width:"100%"},children:n.jsx(Vt,{in:v.state&&v.message,children:n.jsx(ro,{action:n.jsx(pt,{"aria-label":"close",color:"inherit",size:"small",onClick:()=>E({message:"",state:""}),children:n.jsx(Dt,{fontSize:"inherit"})}),sx:{mb:2},severity:v.state,children:v.message})})}),n.jsxs("div",{className:"container border-top border-bottom",children:[n.jsx("div",{className:"row mt-3",children:n.jsx("div",{className:"col-12",children:n.jsxs("div",{className:"form-floating",children:[n.jsx("input",{type:"text",className:"form-control form-control-lg",id:"BuildingName",name:"BuildingName",placeholder:"Building Name",value:r.BuildingName,onChange:N,autoCapitalize:!0,required:!0}),n.jsx("label",{htmlFor:"BuildingName",children:"Building Name"})]})})}),n.jsxs("div",{className:"row mt-3",children:[n.jsx("div",{className:"col-12 col-md-6 mb-3",children:n.jsxs("div",{className:"form-floating",children:[n.jsx("input",{type:"text",className:"form-control form-control-lg",id:"StreetNum",name:"StreetNum",placeholder:"Street",value:r.StreetNum,onChange:N,autoCapitalize:!0,required:!0}),n.jsx("label",{htmlFor:"StreetNum",children:"Street"})]})}),n.jsx("div",{className:"col-12 col-md-6 mb-3",children:n.jsxs("div",{className:"form-floating",children:[n.jsx("input",{type:"text",className:"form-control form-control-lg",id:"District",name:"District",placeholder:"District",value:r.District,onChange:N,autoCapitalize:!0,required:!0}),n.jsx("label",{htmlFor:"District",children:"District"})]})})]}),n.jsxs("div",{className:"row",children:[n.jsx("div",{className:"col-12 col-md-6 mb-3",children:n.jsxs("select",{name:"Barangay",id:"Barangay",className:"form-control form-control-lg",onChange:N,placeholder:"Barangay",required:!0,children:[n.jsx("option",{value:"",children:"-- Select Barangay --"}),["Aclan","Amontay","Ata-atahon","Barangay 1 (Poblacion)","Barangay 2 (Poblacion)","Barangay 3 (Poblacion)","Barangay 4 (Poblacion)","Barangay 5 (Poblacion)","Barangay 6 (Poblacion)","Barangay 7 (Poblacion)","Camagong","Cubi-cubi","Culit","Jaguimitan","Kinabjangan","Punta","Santa Ana","Talisay","Triangulo"].map((c,d)=>n.jsx("option",{value:c,children:c},`barangayKey_${d}`))]})}),n.jsx("div",{className:"col-12 col-md-6 mb-3",children:n.jsxs("div",{className:"form-floating",children:[n.jsx("input",{type:"text",className:"form-control form-control-lg",id:"Municipality",name:"Municipality",placeholder:"Municipality",value:r.Municipality,onChange:N,autoCapitalize:!0,readOnly:!0}),n.jsx("label",{htmlFor:"Municipality",children:"City/Municipality"})]})})]}),n.jsxs("div",{className:"row",children:[n.jsx("div",{className:"col-12 col-md-6 mb-3",children:n.jsxs("div",{className:"form-floating",children:[n.jsx("input",{type:"text",className:"form-control form-control-lg",id:"Province",name:"Province",placeholder:"Province",value:r.Province,autoCapitalize:!0,readOnly:!0}),n.jsx("label",{htmlFor:"Province",children:"Province"})]})}),n.jsx("div",{className:"col-12 col-md-6 mb-3",children:n.jsxs("div",{className:"form-floating",children:[n.jsx("input",{type:"text",className:"form-control form-control-lg",id:"Region",name:"Region",placeholder:"Region",value:r.Region,autoCapitalize:!0,readOnly:!0}),n.jsx("label",{htmlFor:"Region",children:"Region"})]})})]}),n.jsxs("div",{className:"row",children:[n.jsx("div",{className:"col-12 col-md-6 mb-3",children:n.jsxs("div",{className:"form-floating",children:[n.jsx("input",{type:"number",min:1e3,max:8900,className:"form-control form-control-lg",id:"ZipCode",name:"ZipCode",placeholder:"ZipCode",value:r.ZipCode,readOnly:!0}),n.jsx("label",{htmlFor:"ZipCode",children:"Zip Code"})]})}),n.jsx("div",{className:"col-12 col-md-6 mb-3",children:n.jsxs("div",{className:"form-floating",children:[n.jsx("input",{type:"number",min:1,className:"form-control form-control-lg",id:"MaxCapacity",name:"MaxCapacity",placeholder:"MaxCapacity",value:r.MaxCapacity,onChange:N,required:!0}),n.jsx("label",{htmlFor:"MaxCapacity",children:"Building Capacity"})]})})]}),n.jsx("div",{className:"row",children:n.jsxs("div",{className:"col-12",children:[n.jsxs("h6",{className:"text-secondary text-start",children:["Assigned Operators: ",(r==null?void 0:r.Assigned.length)||0]}),n.jsx(Ko,{multiple:!0,id:"size-small-outlined-multi",size:"small",open:k,onOpen:()=>D(!0),onClose:()=>D(!1),loading:j,options:A,getOptionLabel:c=>c.Username,filterOptions:ee,filterSelectedOptions:!0,onChange:L,defaultValue:[],renderInput:c=>n.jsx(uo,{...c,label:"Assign Operators",placeholder:"Operators",InputProps:{...c.InputProps,endAdornment:n.jsxs(p.Fragment,{children:[j?n.jsx(Ht,{color:"inherit",size:20}):null,c.InputProps.endAdornment]})}})})]})}),n.jsx("div",{className:"row justify-content-evenly my-3",children:n.jsx("div",{className:"col",children:n.jsx(so,{type:"submit",variant:"contained",color:"info",children:"Submit"})})})]})]})}wt.propTypes={onSuccess:vt.func,onError:vt.func};function ca(){return window.document.title="Pre-Evacuation | WebEEMS",Wt({})}function ua(){var j,L,ee,N,W;const e=_t(),t=Kt(),r=to(xt),s=r.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:c=>{c.addEventListener("mouseenter",r.stopTimer),c.addEventListener("mouseleave",r.resumeTimer)}}),v=p.useCallback((c,d)=>r.mixin({title:c,input:"select",inputOptions:d,inputPlaceholder:"Select an Evacuation Event ID",confirmButtonText:"Select Evacuation Event",showLoaderOnConfirm:!0,showCancelButton:!0,inputValidator:m=>new Promise(b=>{Ut().then(({success:f})=>{f.map(I=>I.ID).includes(m)?b():b(`ERROR: \`${m}\` is not found`)}).catch(f=>{var I;b(`ERROR: ${(f==null?void 0:f.message)||((I=f==null?void 0:f.error)==null?void 0:I.message)||f}`)})}),allowOutsideClick:()=>!xt.isLoading()}),[r]),E=p.useCallback(c=>{var d,m,b;switch(c){case"create":{r.fire({title:"MDRRMO Evacuation Site Registration and Information",html:n.jsx(wt,{onError:console.error,onSuccess:({success:f})=>(async()=>new Promise(I=>setTimeout(()=>I(r.close()),1e3)))().then(()=>{s.fire({icon:"success",title:`Created Evacuation Event ID: ${f==null?void 0:f.ID}`}).then(()=>e(".")),e(".")})}),allowOutsideClick:!1,allowEnterKey:!1,allowEscapeKey:!0,showCloseButton:!0,focusConfirm:!1,showConfirmButton:!1,showCancelButton:!1}).then();break}case"start":{const f=(d=t==null?void 0:t.myAssignedEvent)==null?void 0:d.ID;(async()=>{var z;let I;if(((z=t==null?void 0:t.loginInfo)==null?void 0:z.Role)==="admin")try{const{success:w}=await Qt("pre"),x=await v("Select Event ID",w.reduce((F,_)=>({"Pre-Evacuation ID":{[_.ID]:_.ID,...F["Pre-Evacuation ID"]}}),{"Pre-Evacuation ID":{}})).fire();if(x.isConfirmed){if(!x.value){s.fire({title:"Something went wrong. Please try again later.",icon:"error"}).then();return}I=x.value}else return}catch{s.fire({title:"Something went wrong. Please try again later.",icon:"error"}).then();return}r.fire({title:`Start the Pre-Evacuation Process \`${I||f}\` now?`,text:"Starting Pre-Evacuation will proceed to QR Code Scanning.",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",cancelButtonText:"No"}).then(w=>{w.isConfirmed&&Yt(I||f).then(({success:x})=>{var F;x?(s.fire({icon:"success",title:"Successfully Started Pre-Evacuation Process!",timer:2e3}).then(()=>e("scan")),((F=t==null?void 0:t.loginInfo)==null?void 0:F.Role)==="admin"&&(t==null||t.setAdminSelectedEventID(I)),e(".")):(s.fire({icon:"error",title:"Failed to Start Pre-Evacuation Process! Please Try again",timer:2e3}).then(),e("."))}).catch(x=>{var F,_;s.fire({icon:"error",title:"Failed to Start Pre-Evacuation Process! Please Try again",text:`Reason: ${x.message||((F=x.data)==null?void 0:F.message)||((_=x.error)==null?void 0:_.message)||"Something went wrong."}`,timer:2e3}).then(),e(".")})})})().then();break}case"end":{const f=(m=t==null?void 0:t.myAssignedEvent)==null?void 0:m.ID;(async()=>{var z;let I;if(((z=t==null?void 0:t.loginInfo)==null?void 0:z.Role)==="admin")try{const{success:w}=await Gt("pre"),x=await v("Select Event ID",w.reduce((F,_)=>({"Pre-Evacuation ID":{[_.ID]:_.ID,...F["Pre-Evacuation ID"]}}),{"Pre-Evacuation ID":{}})).fire();if(x.isConfirmed){if(!x.value){s.fire({title:"Something went wrong. Please try again later.",icon:"error"}).then();return}I=x.value}else return}catch{s.fire({title:"Something went wrong. Please try again later.",icon:"error"}).then();return}r.fire({title:`Stop the Pre-Evacuation Process \`${I||f}\` now?`,text:"Stopping Pre-Evacuation will stop Pre-evacuation QR Code Scanning event",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",cancelButtonText:"No"}).then(w=>{w.isConfirmed&&Zt(I||f).then(({success:x})=>{x?(s.fire({icon:"success",title:"Successfully Ended Pre-Evacuation Process!",timer:2e3}).then(()=>e(".")),t==null||t.setAdminSelectedEventID(null),e(".")):(s.fire({icon:"error",title:"Failed to End Pre-Evacuation Process! Please Try again",timer:2e3}).then(),e("."))}).catch(x=>{var F,_;s.fire({icon:"error",title:"Failed to Stop Pre-Evacuation Process! Please Try again",text:`Reason: ${x.message||((F=x.data)==null?void 0:F.message)||((_=x.error)==null?void 0:_.message)||"Something went wrong."}`,timer:2e3}).then(),e(".")})})})().then();break}case"scan":((b=t==null?void 0:t.loginInfo)==null?void 0:b.Role)==="admin"?qt("pre").then(async({success:f})=>{var z;const I=await v("Select Event ID",f.reduce((w,x)=>({"Pre-Evacuation ID":{[x.ID]:x.ID,...w["Pre-Evacuation ID"]}}),{"Pre-Evacuation ID":{}})).fire();I.isConfirmed&&(I.value?(s.fire({icon:"success",title:`Entering Pre-Evacuation \`${I.value}\` QR Scanning`,timer:1e3}).then(()=>e("scan")),((z=t==null?void 0:t.loginInfo)==null?void 0:z.Role)==="admin"&&(t==null||t.setAdminSelectedEventID(I.value)),e(".")):s.fire({title:"Something went wrong. Please try again later.",icon:"error"}).then())}).catch(()=>{s.fire({title:"Something went wrong. Please try again later.",icon:"error"}).then()}):e("scan");break}},[v,r,s,t,e]),A=p.useCallback(()=>{var c,d,m;return!!((d=(c=t==null?void 0:t.loginInfo)==null?void 0:c.Permissions)!=null&&d.includes("pre-evacuation-create")&&!t.myAssignedEvent||((m=t==null?void 0:t.loginInfo)==null?void 0:m.Role)==="admin")},[t.myAssignedEvent,t==null?void 0:t.loginInfo]),g=p.useCallback(()=>{var c,d,m,b;return!!((c=t==null?void 0:t.loginInfo)!=null&&c.Permissions.includes("pre-evacuation-modify")&&!((m=(d=t==null?void 0:t.myAssignedEvent)==null?void 0:d.PreEvacuation)!=null&&m.Started)||((b=t==null?void 0:t.loginInfo)==null?void 0:b.Role)==="admin")},[t==null?void 0:t.loginInfo,t==null?void 0:t.myAssignedEvent]),k=p.useCallback(()=>{var c,d,m,b,f,I,z;return!!((c=t==null?void 0:t.loginInfo)!=null&&c.Permissions.includes("pre-evacuation-scan")&&(t!=null&&t.myAssignedEvent)&&((m=(d=t.myAssignedEvent.PreEvacuation)==null?void 0:d.Started)==null?void 0:m.getTime())<=Date.now()&&(!((b=t.myAssignedEvent.PreEvacuation)!=null&&b.Ended)||((I=(f=t.myAssignedEvent.PreEvacuation)==null?void 0:f.Ended)==null?void 0:I.getTime())>Date.now())||((z=t==null?void 0:t.loginInfo)==null?void 0:z.Role)==="admin")},[(j=t==null?void 0:t.loginInfo)==null?void 0:j.Permissions,(L=t==null?void 0:t.loginInfo)==null?void 0:L.Role,t.myAssignedEvent]),D=p.useCallback(()=>{var c,d,m,b,f;return!!((c=t==null?void 0:t.loginInfo)!=null&&c.Permissions.includes("pre-evacuation-modify")&&(t!=null&&t.myAssignedEvent)&&((m=(d=t.myAssignedEvent.PreEvacuation)==null?void 0:d.Started)==null?void 0:m.getTime())<=Date.now()&&!((b=t.myAssignedEvent.PreEvacuation)!=null&&b.Ended)||((f=t==null?void 0:t.loginInfo)==null?void 0:f.Role)==="admin")},[(ee=t==null?void 0:t.loginInfo)==null?void 0:ee.Permissions,(N=t==null?void 0:t.loginInfo)==null?void 0:N.Role,t.myAssignedEvent]);return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"container pt-3",children:n.jsx(oo,{items:[{title:"Home",href:"/"},{title:"Pre-evacuation",href:"/pre-evacuation"}]})}),n.jsx("div",{className:"container main-container",children:n.jsxs("div",{className:"row mx-auto w-100 mb-5 h-75 justify-content-center align-items-center",style:{minHeight:"80vh"},children:[A()&&n.jsx("div",{className:"col-11 col-sm-10 col-lg-6 pb-3 mx-auto my-auto",children:n.jsx(Xe,{onClick:()=>E("create"),title:"New Pre-Evacuation Event",subtitle:"Create and post new evacuation event with building information.",titleStyle:{fontSize:"1.8em"},titleBackground:Jt[300],className:"mx-auto",style:{maxWidth:"25em"}})}),g()&&n.jsx("div",{className:"col-11 col-sm-10 col-lg-6 pb-3 mx-auto my-auto",children:n.jsx(Xe,{onClick:()=>E("start"),title:"Start Pre-Evacuation Process",subtitle:`Start the Pre-Evacuation Process now.
                            Starting the Pre-evacuation process will proceed to QR Code Scanning
                            for Evacuees entering the Evacuation Site.`,titleStyle:{fontSize:"1.8em"},className:"mx-auto",style:{maxWidth:"25em"}})}),k()&&n.jsx("div",{className:"col-11 col-sm-10 col-lg-6 pb-3 mx-auto my-auto",children:n.jsx(Xe,{onClick:()=>E("scan"),title:n.jsxs(n.Fragment,{children:["QR Scanning",n.jsx("br",{}),"(Pre-evacuation process)"]}),subtitle:"Scan QR IDs of evacuees entering the building to occupy evacuation tents.",titleStyle:{fontSize:"1.5em"},titleBackground:Xt[300],className:"mx-auto",style:{maxWidth:"25em"}})}),D()&&n.jsx("div",{className:"col-11 col-sm-10 col-lg-6 pb-3 mx-auto my-auto",children:n.jsx(Xe,{onClick:()=>E("end"),title:"End Pre-Evacuation Process",subtitle:`Stop the Pre-Evacuation Process now.
                            Stopping the Pre-evacuation process will ensure that the occupancy count
                            is permanent and cannot anymore accept incoming evacuees.`,titleStyle:{fontSize:"1.8em"},titleBackground:eo[300],className:"mx-auto",style:{maxWidth:"25em"}})}),((W=t==null?void 0:t.loginInfo)==null?void 0:W.Role)==="user"&&!A()&&!g()&&!k()&&!D()&&n.jsx("div",{className:"col-11 pb-3 d-flex justify-content-center align-items-center",style:{height:"calc(100vh - 15em)"},children:n.jsx("h1",{children:"You are currently not assigned to this event."})})]})})]})}export{ua as Component,ca as loader};
